# Entry 4
##### 3/17/23

### Content
From the previous blog to now, instead of creating the Rock, Paper, Scissors game or the Dinosaur game, I created a Space Shooter game where the player navigates a spaceship which shoots at enemies. The game includes a Score System, multiple levels and more features. Here is the tutorial I used to create this game: https://wiki.gdevelop.io/gdevelop5/tutorials/space-shooter. To make the game I first created a new scene called Space Shooter and created the object variable `Player` from the tutorial. <br>
<br>
Then I wrote code that allowed the `Player` object to move using the arrow keys. [code](https://user-images.githubusercontent.com/73482933/226218548-db5dce7f-98bf-4f01-a907-f6dd6018e5d3.png). This piece of code allows the `Player` object to move to the right when you press the right arrow key, move to the left when you press the left arrow key, etc. <br>
Then I gave the `Player` object the ability to shoot bullets when you press the space key. I first created the `Bullet` object then installed a behavior for the `Player` object called `Fire Bullets` where you can set the cooldown of when the next bullet can be shot. Then I added a Behavior called `Destroy when outside of the Screen` to the `Bullet` object so as the bullet passes through the end of the screen, it will be deleted before it hits any other enemies or meteors (objects that will be added later). [Code](https://user-images.githubusercontent.com/73482933/226223024-3fe1c3f6-9df2-43c5-ac50-26195adafd99.png). Later on I added a sound effect whenever a bullet is shot from the `Player` object. <br>
<br>
After making the `Player` object shoot, I added the background image, gave the `Player` object the behavior called `Health` (sets the Player’s health), and the behavior `Stay on Screen` so the `Player` object wouldn’t disappear if you move too far out the screen and never come back. Then I made the camera and background image move: [Code](https://user-images.githubusercontent.com/73482933/226223351-57264918-3072-4737-b1c6-f26a4c086302.png). Here the background image moves 40 pixels per second while the camera moves 150 pixels per second. Because the camera is moving, the `Player` object also has to move or else it will stay in the same area and won’t move even if you press the arrow keys. This was why I added an instant force of 150 to the `Player` object. <br>
<br>
Next I made the enemies. There are three enemies named `Enemy1`, `Enemy2`, and `Enemy3`. Each enemy object will have the `Health` behavior applied to them where `Enemy1` has a health of 50, `Enemy2` a health of 150, and `Enemy3` a health of 100. These 3 enemies are in an object group called `Enemies` where codes applied to this object group will also apply for all three enemy objects. Now when the `Player` object’s bullet hits the enemies from the `Enemies` object group, 50 health will be taken away from them. I also added a force to the enemies so they could move forward. After adding a force, I also needed to check if the `Player` object is colliding with these enemies, if this condition is true then I need to subtract 40 from the `Player` object’s health. [Code Snippet1](https://user-images.githubusercontent.com/73482933/226225206-0bc87cbc-9acd-442a-a7b8-3705f4e8bbae.png) [Code Snippet2](https://user-images.githubusercontent.com/73482933/226225260-fbe98f3c-b2bc-41e8-b7aa-8d0e875cf923.png)If the `Player` object’s health is less than or equal to 0, then the game would restart. [Code](https://user-images.githubusercontent.com/73482933/226225411-78e5a127-578a-46e4-b997-6a91773e4ff1.png)<br>
<br>
Now I will just briefly go over the next few parts of the tutorial without code snippets as they have similar code/aren’t new things I’ve learned/aren’t that important. So after doing everything above, I added extra mechanisms to `Enemy2` and `Enemy3`. `Enemy2`, just like the `Player` object will also have the ability to shoot a bullet and so will also have the `Bullet` behavior. The bullet from `Enemy2` will deal 40 damage to the `Player` and shoots every 1 second. The `Bullet` object of `Enemy2` will also have the behavior `Destroy when outside the screen`.`Enemy3` on the other hand will just move forwards and then glide upwards or downwards based on its location, so the`Player` would have to chase `Enemy3` to destroy it. After adding these mechanisms to `Enemy2` and `Enemy3` , I added 4 types of meteors to the game. Unlike the `Enemies`, when the `Player` object’s bullet hits any of the meteors (the four meteors are in an object group called `Meteors`), the bullets will be destroyed instead of damaging the meteors. These meteors cannot be destroyed and are just obstacles that the player should dodge. After making the meteors, I created two power ups that will be scattered throughout the game. They are `PowerupHealth` and `PowerupShield`. When the player collides with the `PowerupHealth` object, the `Player` object will gain 30 health. The `PowerupShield` works hand in hand with an animation of the `Player` object called `ShieldUp`. When the `Player` object collides with the `PowerupShield`, the `Player` object’s animation would be set to `ShieldUp` for 5 seconds (duration of the shield) and for 5 seconds no damage can be done to the `Player` object. <br>
<br>
The next thing I did was to show what the health of the `Player` object is and what the score is. To make the score system I created a new text object called `Score` with its starting text as “Score: 0”. For health, I created another text object called “Health” and set its starting text to “Health: 100”. [Image](https://user-images.githubusercontent.com/73482933/226336376-03821c2a-8313-4bf1-bc75-4bbe9a424091.png) After that I created a new scene variable named “Score” which has an initial value of 0, which will then be added to `TimeDelta()*50`, meaning the score will increase as long as the game is running and does not end. Along with this, score also increases by 100 when an enemy is destroyed. Now I have to update the `Score` object and update the `Health` object based on the `Player` object’s health. [Code](https://user-images.githubusercontent.com/73482933/226337359-b0ad5682-1f9a-42f5-a3a8-4f100ca38368.png) <br>
<br>
The next parts are about sound, music and visual effects so they aren’t that important so I will talk about how I created levels for the game. So following the tutorial, I created a `FinishLine` object and checked the collision between the `Player` object and the `FinishLine` object. I also created a global variable called `LevelSelection` and set the initial value to 1. Later on when the `Player` object collides with the `FinishLine` object, `LevelSelection` will be incremented by 1. After that to create the levels I needed to use something called `External Layouts` and use my Space Shooter scene as the associated scene so all the objects and codes will be replicated on the external layout scenes. Now I just have to drag all the objects (enemies and meteors) to the external layout scenes and add a `FinishLine`. <br>
<br>
After creating the levels, I made a main menu page where the player selects unlocked levels to play. To do that I created a new scene called `Main Menu` and made a text object for the name of the game and made all the level objects for all the levels (1-8). Each level object except Level1 has a locked animation and unlocked animation; Level1 only has an unlocked animation. [Main menu page](https://user-images.githubusercontent.com/73482933/226374149-d18882cd-198b-44a4-8b00-a33c8a9903da.png) As you can see in the image, Level1 is colored meaning that it is unlocked and can be played while the other levels are gray, meaning that they are locked, so the player is not able to select the level until Level1 is completed. [Code](https://user-images.githubusercontent.com/73482933/226376278-74be9641-9daf-43e8-85d5-d14d380c812b.png) for changing the animations of the levels and running the game for a specific level. The first half of the code checks if any of the level’s animation is `Unlocked` and whether the player left clicked on the level. If these conditions are true then `LevelSelection` is set to the Level that was clicked on and the scene switches to `Space Shooter`. The second half of the code makes sure that before the player can play the specific level, the previous levels are unlocked.  Back at Space Shooter, the objects from the level that was clicked on are created: [Code](https://user-images.githubusercontent.com/73482933/226379867-1875f18c-6e18-4a1e-9e7c-a31c780b9c53.png). <br>
<br>
This was the final part of the game and what I’ve done since the last blog.

### Skills
The skills I used are debugging and attention to detail. There are multiple errors I’ve encountered. One of these errors is the sizing of the screen. Before when you go to full screen, you can see a blank part of the screen that was not supposed to show. There was no background in that part and you could see the `Enemies` and `Meteors` that were upcoming which was not supposed to happen. I felt that it was because of the sizing of the screen and it was. When I went to the game properties, next to the section `Game resolution resize mode (fullscreen or window)`, it was set to `Change width to fit the screen or window size`. After switching to `No changes to the game size`, the error no longer occurred. This is one of many instances where I debugged an error. I also needed the skill attention to details because the code in the `Main Menu` scene and the `Space Shooter` scene are connected so I need to make sure that every single piece of code is in the right place and that I have all the code pieces necessary for the game to run correctly. And to spot any errors, I need to carefully analyze my code and compare it with the tutorial to see if I did anything wrong.
### EDP
The Engineering Design Process that I am in are create a prototype and test and evaluate the prototype. Even though I completed all 13 parts of the Space Shooter tutorial, there are still things I need to fix such as the position of the levels. Due to the fact that I used Piskel to make each individual level object, the positions of each object are different, even though they are all the same size. So when the animation of each `Level` object changes to `unlocked`, the positions of the `Level` objects change, with some going out the screen. So I need to redraw them again. After fixing this error I will go on to my other game idea, which is the Rhythm game using this tutorial: https://www.youtube.com/watch?v=mvqWmR1tA8w, and once again fix any errors along the way. 



[Previous](entry03.md) | [Next](entry05.md)

[Home](../README.md)
